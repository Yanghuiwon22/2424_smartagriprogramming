<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>농업 작물 모니터링</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="top-nav">
        <ul>
            <li><a href="#image-section">이미지</a></li>
            <li><a href="#temp-humidity-section">온습도</a></li>
            <li><a href="#water-level-section">물의 양</a></li>
            <li><a href="#irrigation-section">관수</a></li>
        </ul>
    </nav>

    <!-- Header -->
    <header>
        <h1>농업 작물 모니터링</h1>
        <p>이미지, 온습도, 물의 양, 관수 모니터링 시스템</p>
    </header>

    <!-- Main Section -->
    <main>
        <!-- Cards for Navigation -->
        <section class="cards">
            <div class="card" onclick="scrollToSection('image-section')">
                <h3>이미지 모니터링</h3>
                <p>작물 이미지를 실시간으로 확인하세요.</p>
            </div>
            <div class="card" onclick="scrollToSection('temp-humidity-section')">
                <h3>온습도 모니터링</h3>
                <p>온도와 습도를 실시간으로 확인하세요.</p>
            </div>
            <div class="card" onclick="scrollToSection('water-level-section')">
                <h3>물의 양 모니터링</h3>
                <p>물통의 현재 물의 양을 확인하세요.</p>
            </div>
            <div class="card" onclick="scrollToSection('irrigation-section')">
                <h3>관수 모니터링</h3>
                <p>관수 상태를 실시간으로 확인하세요.</p>
            </div>
        </section>

        <!-- Sections -->
        <section id="image-section" class="content-section">
            <h2>이미지 모니터링</h2>
            <img id="sensor-image" src="" alt="작물 이미지" style="max-width: 100%; border-radius: 10px;">
        </section>

        <section id="temp-humidity-section" class="content-section">
            <h2>온습도 모니터링</h2>
            <p>온도: <span id="sensor-temp">-</span> °C</p>
            <p>습도: <span id="sensor-humidity">-</span> %</p>
        </section>

        <section id="water-level-section" class="content-section">
            <h2>물의 양 모니터링</h2>
            <p>현재 물의 양: <span id="sensor-water">-</span> %</p>
        </section>

        <section id="irrigation-section" class="content-section">
            <h2>관수 모니터링</h2>
            <p>관수 상태: <span id="sensor-irrigation">-</span></p>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <small>&copy; 2024 농업 작물 모니터링 시스템</small>
    </footer>

    <!-- JavaScript -->
    <script>
        // 페이지 로드 시 센서 데이터를 가져와 표시
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/api/sensor_data')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('sensor-image').src = data.image_url;
                    document.getElementById('sensor-temp').textContent = data.temperature;
                    document.getElementById('sensor-humidity').textContent = data.humidity;
                    document.getElementById('sensor-water').textContent = data.water_level;
                    document.getElementById('sensor-irrigation').textContent = data.irrigation_status;
                });
        });

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            section.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>